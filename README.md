# Проект тестирования создания вируальных машин в облае Selectel

## В данноим проекте реализовано 2 кейса:
1. Cоздание виртуальной машины с локальным диском
2. Cоздание виртуальной машины с сетевым диском

## Общее
Данные для создания виртуальных машин и сетевых дисков берутся из системы. Все образы, конфигурации и типы сетевых дисков запрашиваются перед тестом. Ипользуя технику попрапного тестирования, из этих списков формируется тестовый набор. 

После выполнения всех тестов, все созданные виртуальные машины, удаляются

## Описание кейсов
### Cоздание виртуальной машины с локальным диском:
1. Создание виртуальной машины с определённым образом и конфигурацией
2. Проверка, что виртуальная машина создалась с параметрами, указанными при создании.

### Cоздание виртуальной машины с сетевым диском:
1. Создание сетевого диска.
2. Создание виртуальной машины с определённым образом и конфигурацией
3. Проверка, что виртуальная машина создалась с параметрами, указанными при создании.

## Инструкция по запуску

1. Склонировать проект
```sh
git clone https://github.com/Rebel21/selectel_api_test.git
```
2. Уснаовить зависимости
```sh
pip install -r requirements.txt
```
3. Определить переменные окружения. 
```sh
OS_AUTH_URL="OS_AUTH_URL"
OS_PROJECT_DOMAIN_NAME='OS_PROJECT_DOMAIN_NAME'
OS_PROJECT_ID='OS_PROJECT_ID'
OS_TENANT_ID='OS_TENANT_ID'
OS_REGION_NAME='OS_REGION_NAME'
OS_USER_DOMAIN_NAME='OS_USER_DOMAIN_NAME'
OS_USERNAME='OS_USERNAME'
```
Их зачения указаны в файле rc.sh, который можно скачать из личного кабинета https://474744.selvpc.ru/access

4. Выполнить команду для запуска тестов. Ключ -n устанавливает колличество потоков тестов
```sh
py.test -v -l -n 5 ./tests/
```